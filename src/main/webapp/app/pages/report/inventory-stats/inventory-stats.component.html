<div class="d-flex" style="justify-content: space-between">
  <div>
    <div class="group-form-custom mb-25px col-md-6 col-sm-12 w-100" style="justify-content: start" *ngIf="statusSearch">
      <div class="group-item-custom w-100" style="margin-top: 0">
        <label class="form-label label-search" jhiTranslate="global.info.keyword"></label>
        <div class="item-search input-text-custom">
          <input
            name="keyword"
            (keyup)="getData()"
            [(ngModel)]="searchReq.keyword"
            (ngModelChange)="onDeleteKeywordSearch()"
            class="form-control"
            type="search"
            placeholder="Tìm kiếm theo mã, tên..."
            autocomplete="off"
          />
        </div>
      </div>
    </div>
  </div>
  <div
    class="d-flex mb-5 col-md-6 col-sm-12 w-100"
    [style]="statusSearch ? 'justify-content: end; gap: 2%; padding-top: 25px;' : 'justify-content: end; gap: 2%;'"
  >
    <button class="btn-search save-button-dialog" (click)="onChooseAgain()">
      <span [innerHTML]="ICON_SELECT_PARAM | safeHtml"></span>
      <span>Chọn tham số</span>
    </button>
    <!--    <button class="btn-search" (click)="changeStatusSearch()">-->
    <!--      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="19" viewBox="0 0 18 19" fill="none">-->
    <!--        <path-->
    <!--          d="M15.0001 1H3.00005C1.89505 1 0.974054 1.91 1.24705 2.98C1.53768 4.11389 2.07306 5.1704 2.81557 6.07531C3.55809 6.98021 4.48973 7.71157 5.54505 8.218C6.36805 8.612 7.00005 9.386 7.00005 10.298V16.382C7.00014 16.5524 7.04377 16.7199 7.1268 16.8687C7.20982 17.0175 7.32949 17.1426 7.47445 17.2322C7.6194 17.3218 7.78484 17.3728 7.95506 17.3805C8.12528 17.3881 8.29463 17.3522 8.44705 17.276L10.4471 16.276C10.6131 16.193 10.7528 16.0654 10.8505 15.9075C10.9482 15.7496 11 15.5677 11.0001 15.382V10.298C11.0001 9.386 11.6321 8.612 12.4541 8.218C13.5098 7.71186 14.4419 6.98062 15.1847 6.0757C15.9276 5.17077 16.4633 4.11411 16.7541 2.98C17.0251 1.91 16.1031 1 15.0001 1Z"-->
    <!--          stroke="white"-->
    <!--          stroke-width="2"-->
    <!--        />-->
    <!--      </svg>-->
    <!--      <span>Lọc</span>-->
    <!--    </button>-->
    <button class="btn-search save-button-dialog" (click)="resetData()" appDisableButton>
      <span [innerHTML]="ICON_RESET | safeHtml"></span>
      <span>Lấy lại dữ liệu</span>
    </button>
    <button class="btn-search save-button-dialog" (click)="onExportPdf()" appDisableButton>
      <span [innerHTML]="ICON_PDF | safeHtml"></span>
      <span>Kết xuất PDF</span>
    </button>
    <button class="btn-search save-button-dialog" (click)="onExportExcel()" appDisableButton>
      <span [innerHTML]="ICON_EXCEL | safeHtml"></span>
      <span>Kết xuất Excel</span>
    </button>
  </div>
</div>
<div style="box-shadow: 0 4px 5px #0074bd26">
  <div class="panel-header">
    <div class="title-header">
      <span>SỔ TỔNG HỢP TỒN KHO</span>
      <div class="create-date">
        <p style="margin: 0">Từ ngày {{ fromDate }} đến ngày {{ toDate }}</p>
      </div>
    </div>
  </div>
  <div class="tab-pane fade active show">
    <div class="row">
      <div class="col-xl-12">
        <div class="panel panel-inverse" style="margin-bottom: 0">
          <div class="table-responsive">
            <table class="table editing-table" style="margin: 0">
              <!--            <thead class="table-header-sticky">-->
              <!--              <tr class="table-custom-header">-->
              <!--                <th>STT</th>-->
              <!--                <th>Mã sản phẩm</th>-->
              <!--                <th>Tên sản phẩm</th>-->
              <!--                <th>Số lượng tồn</th>-->
              <!--                <th>Đơn giá mua</th>-->
              <!--                <th>Giá trị tồn</th>-->
              <!--                <th></th>-->
              <!--              </tr>-->
              <!--            </thead>-->
              <thead class="table-header-sticky">
                <tr class="table-custom-header">
                  <th rowspan="2" class="column-center" style="width: 7%">Mã sản phẩm</th>
                  <th rowspan="2" colspan="3" class="column-center" style="width: 18%">Tên sản phẩm</th>
                  <th rowspan="2" class="column-center">ĐVT</th>
                  <th colspan="2" class="column-center">Đầu kỳ</th>
                  <th colspan="2" class="column-center">Nhập kho</th>
                  <th colspan="2" class="column-center" style="border-right: 1px solid #b0d4eb !important; vertical-align: middle">
                    Xuất kho
                  </th>
                  <th colspan="2" class="column-center">Cuối kỳ</th>
                </tr>
                <tr class="table-custom-header">
                  <th class="column-center">Số lượng</th>
                  <th class="column-center" style="border-right: 1px solid #b0d4eb !important; vertical-align: middle">Giá trị</th>

                  <th class="column-center">Số lượng</th>
                  <th class="column-center" style="border-right: 1px solid #b0d4eb !important; vertical-align: middle">Giá trị</th>

                  <th class="column-center">Số lượng</th>
                  <th class="column-center" style="border-right: 1px solid #b0d4eb !important; vertical-align: middle">Giá trị</th>

                  <th class="column-center" style="border-right: 1px solid #b0d4eb !important; vertical-align: middle">Số lượng</th>
                  <th class="column-center" style="border-right: 1px solid #b0d4eb !important; vertical-align: middle">Giá trị</th>
                </tr>
              </thead>
              <tbody *ngIf="listData?.length > 0">
                <ng-container *ngFor="let data of listData; index as i">
                  <tr class="table-custom-body">
                    <td class="break-word-table">{{ data.code2 }}</td>
                    <td class="break-word-table" colspan="3">{{ data.name }}</td>
                    <td class="break-word-table">{{ data.unitName }}</td>
                    <td class="break-word-table text-align-right">{{ (data.fromOnHand == 0 ? '' : data.fromOnHand) | number }}</td>
                    <td class="break-word-table text-align-right">{{ (data.fromValue == 0 ? '' : data.fromValue) | number }}</td>
                    <td class="break-word-table text-align-right">{{ (data.inOnHand == 0 ? '' : data.inOnHand) | number }}</td>
                    <td class="break-word-table text-align-right">{{ (data.inValue == 0 ? '' : data.inValue) | number }}</td>
                    <td class="break-word-table text-align-right">{{ (data.outOnHand == 0 ? '' : data.outOnHand) | number }}</td>
                    <td class="break-word-table text-align-right">{{ (data.outValue == 0 ? '' : data.outValue) | number }}</td>
                    <td class="break-word-table text-align-right">{{ (data.toOnHand == 0 ? '' : data.toOnHand) | number }}</td>
                    <td class="break-word-table text-align-right">{{ (data.toValue == 0 ? '' : data.toValue) | number }}</td>
                  </tr>
                </ng-container>
              </tbody>
              <tbody *ngIf="listData?.length === 0">
                <tr class="table-not-data">
                  <td colspan="12">
                    <span jhiTranslate="easyPos.product.info.notData"></span>
                  </td>
                </tr>
              </tbody>
              <tfoot class="table-custom-footer" *ngIf="listData?.length > 0">
                <tr style="color: #004671; font-weight: 700">
                  <td colspan="5" style="font-weight: bold; font-size: 16px">Tổng cộng</td>
                  <td class="text-align-right">{{ totalData.fromOnHand | number }}</td>
                  <td class="text-align-right">{{ totalData.fromValue | number }}</td>
                  <td class="text-align-right">{{ totalData.inOnHand | number }}</td>
                  <td class="text-align-right">{{ totalData.inValue | number }}</td>
                  <td class="text-align-right">{{ totalData.outOnHand | number }}</td>
                  <td class="text-align-right">{{ totalData.outValue | number }}</td>
                  <td class="text-align-right">{{ totalData.toOnHand | number }}</td>
                  <td class="text-align-right">{{ totalData.toValue | number }}</td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="group-page-size" style="margin-top: 1rem">
  <div class="form-page-size" style="color: #004671 !important">
    <label
      class="form-label form-label label-search me-2 mb-0 text-bold"
      jhiTranslate="global.info.totalParam"
      [translateValues]="{ count: totalItems || 0 }"
    ></label>
    <div class="form-select-size">
      <ng-select
        [items]="sizes"
        class="select-value select-size"
        bindLabel="name"
        bindValue="id"
        placeholder="Tất cả"
        [(ngModel)]="size"
        (ngModelChange)="getData()"
      >
      </ng-select>
    </div>
  </div>
  <div class="group-page-size">
    <div class="from-pagination d-flex justify-content-center" *ngIf="totalItems > 0">
      <ngb-pagination
        class="pagination"
        [collectionSize]="totalItems || 0"
        [pageSize]="size"
        [page]="page"
        aria-label="Default pagination"
        [directionLinks]="true"
        [maxSize]="5"
        (pageChange)="pageChange($event)"
      ></ngb-pagination>
    </div>
  </div>
</div>
<!-- END pos-stock-body -->
